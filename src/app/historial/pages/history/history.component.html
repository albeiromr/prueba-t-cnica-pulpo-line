<p-card 
    header="Consulta tu historial" 
    subheader="Aquí encontrarás el historial de todas las ciudades buscadas y podrás volver a buscarlas con un solo click.">

    <main class="dashboard-history-page">

        <p-divider />

        @if(historyItems.length > 0){

            <p-table 
                [value]="historyItems" 
                styleClass="p-datatable-gridlines" 
                [tableStyle]="{ 'min-width': '450px' }"
                [paginator]="true"
                [rows]="5"
                [rowsPerPageOptions]="[5, 10, 20]"
            >
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width:250px">Fecha de busqueda</th>
                        <th>Ciudad</th>
                        <th style="width:240px">Acción</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-item>
                    <tr>
                        <td>{{ item.date | date:'medium'  }}</td>
                        <td>{{ item.city }}</td>

                        <td >
                            <p-button label="Buscar de nuevo" icon="pi pi-search" iconPos="right" (onClick)="searchCityAgain(item.city)"/>
                        </td>
                        
                    </tr>
                </ng-template>
            </p-table>

        } @else {

            <div class="history-placeholder">
                <img src="/history-placeholder.svg" alt="weather plaveholder">
                <p> Aún no hay información en tu historial</p>
                <p-button label="Buscar una ciudad" icon="pi pi-search" iconPos="right" (onClick)="goToSearchPage()"/>
            </div>

        }

    </main>
</p-card>
